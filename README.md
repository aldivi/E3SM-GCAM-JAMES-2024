_your zenodo badge here_

# Submitted to JAMES 2024

**E3SM-GCAM: A synchronously coupled human coponent in the E3SM Earth system model enables novel human-Earth feedback research**

Alan V. Di Vittorio<sup>1\*</sup>, Eva Sinha<sup>2</sup>, Dalei Hao<sup>2</sup>, Balwinder Singh<sup>2</sup>, Katherine V. Calvin<sup>3</sup>,  Tim Shippert<sup>2</sup>, Pralit Patil<sup>3</sup>, and Ben Bond-Lamberty<sup>3</sup>

<sup>1 </sup> Lawrence Berkeley National Laboratory, Berkeley, CA, United States
<sup>2 </sup> Pacific Northwest National Laboratory, Richland, WA, United States
<sup>3 </sup> Joint Global Change Research Institute, Pacific Northwest National Laboratory, College Park, MD, United States

\* corresponding author:  avdivittorio@lbl.gov

## Abstract

Modeling human-environment feedbacks is critical for assessing the effectiveness of climate change mitigation and adaptation strategies under a changing climate. The Energy Exascale Earth System Model (E3SM) now includes a human component, with the Global Change Analysis Model (GCAM) at its core, that is synchronously coupled with the land and atmosphere components through the E3SM coupling software. Terrestrial productivity is passed from E3SM to GCAM to make climate-responsive land use and CO2 emission projections for the next five-year period, which are interpolated and passed to E3SM annually. Key variables affected by the incorporation of these feedbacks include land use/cover change, crop prices, terrestrial carbon, local surface temperature, and climate extremes. Regional differences are more pronounced than global differences because the effects are driven primarily by differences in land use. This novel system enables a new type of scenario development and provides a modeling framework that is readily advanceable.

## Journal reference
Di Vittorio A. V., E. Sinha, D. Hao, B. Singh, K. V. Calvin, T. Shippert, P. Patel, and B. Bond-Lamberty â€œE3SM-GCAM: A synchronously coupled human component in the E3SM Earth system model enables novel human-Earth feedback research". JAMES, In Prep. DOI: xxxx

## Code reference - delete this? and just use the table below?
References for each minted software release for all code involved.  

These are generated by Zenodo automatically when conducting a release when Zenodo has been linked to your GitHub repository. The Zenodo references are built by setting the author order in order of contribution to the code using the author's GitHub user name.  This citation can, and likely should, be edited without altering the DOI.

If you have modified a codebase that is outside of a formal release, and the modifications are not planned on being merged back into a version, fork the parent repository and add a `.<shortname>` to the version number of the parent and construct your own name.  For example, `v1.2.5.hydro`.

Human, I.M. (2021, April 14). Project/repo:v0.1.0 (Version v0.1.0). Zenodo. http://doi.org/some-doi-number/zenodo.7777777

## Data reference. - probably delete this

### Input data
Reference for each minted data source for your input data.  For example:

Human, I.M. (2021). My input dataset name [Data set]. DataHub. https://doi.org/some-doi-number

### Output data - delete this
Reference for each minted data source for your output data.  For example:

Human, I.M. (2021). My output dataset name [Data set]. DataHub. https://doi.org/some-doi-number

## Contributing modeling software
| Model | Version | Repository Link | DOI |
|-------|---------|-----------------|-----|
| E3SM	| v2.1	| https://github.com/E3SM-Project/E3SM | link to DOI dataset |
| GCAM  | 6.0   | https://github.com/JGCRI/gcam-core | link to DOI dataset |

### Model output
add something here

## Reproduce the experiment
Reproducing the experiment requires access to a high performance computing cluster and explicit installation of the modeling software, which are not readily available to the average reader. Furthermore, each model run generates terrabytes of data. Thus we can provide the E3SM model outputs (which are stored on a high performance computing cluster) only upon request. The run scripts that were used to generate model outputs are in the `run_scripts` directory.

The relevant GCAM data outputs are provided in the `workflow` directory. Figure data are provided in the respective `figure` directories.


## Process model output and reproduce the figures
1. ????? Download and unzip the model outputs from the experiment [Model output](#Model-output) ?????
2. Run the following scripts in the `workflow/scenario_figures` directory to process results and generate figures


The R scripts below have been developed using R 4.3.2. Required libraries are loaded at the beginning of each script using the `library()` function and must be installed as needed.

Some scripts below produce many diagnostic figures and the paper/supplemental figures have been selected from these diagnostic figures.

### Scenario figures

| Script Name | Description | How to Run |
| --- | --- | --- |
| `plot_e3sm_gcam_scalars.r` | Generate feedback scaling value plots | Source the script in R and run the function |
| `plot_gcam_crop_prices.r` | Generate crop price and associated correlation plots | Source the script in R |
| `plot_gcam_land_paper.r` | Generate scenario land allocation plot and comparison with E3SM land data plot | Source the script in R |


The plot of GCAM land units showing the percent of convertible land available can be recreated using the associated figure data and the map generation code in plot_e3sm_gcam_scalars.r. The user has to joing the appropriate data with the regionXglu map and then generate the map.